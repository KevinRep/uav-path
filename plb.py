import matplotlib.pyplot as plt

# Episode 和 Total Reward 数据
episodes = list(range(1, 101))  # Episode 1 到 100
rewards = [
    -5472.31, -18659.99, -2220.12, -1498.96, -7549.86, -3981.61, -27677.33, -2375.73, -134.16, -5323.96,
    -3583.95, -2146.16, -2821.62, -1214.40, -590.77, -7469.48, -1220.30, -9495.37, -7626.17, -12785.71,
    -9462.35, -1800.46, -1237.14, -4168.02, -19489.05, -1766.44, -3498.42, -1617.79, -12203.88, -6572.24,
    -565.59, -335.87, -2207.16, -2862.29, -2696.86, -43542.64, -1379.82, -4128.56, -3121.50, -4514.00,
    -279.25, -5224.30, -33025.97, -1842.00, -757.38, -261.38, -452.42, -807.68, -6933.45, -531.93,
    -37417.57, -23509.45, -1824.57, -6741.92, -25751.50, -902.92, -23998.96, -3776.21, -7454.97, -4901.39,
    -42068.76, -28778.44, -6665.21, -27095.78, -27540.09, -55269.04, -24652.57, 104.68, -600.24, -28237.10,
    -39524.57, -225.24, -99.24, -61926.85, -206105.23, -101474.24, -644.65, -548.20, -1392.77, -5545.23,
    131.25, 36.41, -1214.04, 118.59, -2145.22, -1298.28, -993.43, -10942.62, -9478.09, -6692.57,
    126.41, -165.14, 60.34, 47.17, -131.63, 189.10, -6.12, 12.22, -856.00, -43.13
]

# 过滤 Total Reward 在 -50000 以内的数据
filtered_episodes = []
filtered_rewards = []
for ep, rew in zip(episodes, rewards):
    if rew >= -50000:  # 只保留 >= -50000 的数据
        filtered_episodes.append(ep)
        filtered_rewards.append(rew)

# 创建折线图
plt.figure(figsize=(10, 5))  # 设置画布大小
plt.plot(filtered_episodes, filtered_rewards)

# 添加标题和标签
plt.title(' Reward', fontsize=14)
plt.xlabel('Episode', fontsize=12)
plt.ylabel('Total Reward', fontsize=12)

# 设置纵轴范围
plt.ylim([-50000, 500])  # 设置 Y 轴范围，稍微留出正值空间


# 添加图例
plt.legend()

# 调整布局
plt.tight_layout()

# 保存图片到文件
plt.savefig('total_reward_plot.png', dpi=300, bbox_inches='tight')  # 保存为 PNG 文件，dpi 控制分辨率

# 显示图形
plt.show()